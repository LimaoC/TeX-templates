% ---------- Packages ---------- %
% Math symbols
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{centernot}
\usepackage{mathtools}
\usepackage{physics}

% Header and page setup
\usepackage{fancyhdr}
\usepackage[top=3cm, bottom=3cm, left=1.5cm, right=1.5cm]{geometry}
\usepackage{titling}
\usepackage{titlesec}

% Images and figures
\usepackage{graphicx}

% Macros
\usepackage{xstring}

% Environments
\usepackage{enumitem}


% ---------- Formatting ---------- %
% Center title
\renewcommand\maketitlehooka{\null\mbox{}\vfill}
\renewcommand\maketitlehookd{\vfill\null}

\setlength{\headheight}{15pt}


% ---------- Custom commands ---------- %
% Auto-sized bracketing
\DeclarePairedDelimiter\autobracket{(}{)}
\DeclarePairedDelimiter\autosquarebracket{[}{]}
\DeclarePairedDelimiter\autocurlybracket{\{}{\}}
\DeclarePairedDelimiter\automagnitude{|}{|}
\newcommand{\br}[1]{\autobracket*{#1}}
\newcommand{\sqbr}[1]{\autosquarebracket*{#1}}
\newcommand{\curbr}[1]{\autocurlybracket*{#1}}
\newcommand{\mgnt}[1]{\automagnitude*{#1}}

% Sets of numbers
\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Q}{\mathbb{Q}}

% Probability
\newcommand{\Prob}[2][br]{
    % Probability measure.
    % #1 (optional): bracket type. br for round brackets (default), sqbr for
    % square brackets.
    % #2: contents.
    \IfEqCase{#1}{
        {br}{\mathbb{P}\br{#2}}
        {sqbr}{\mathbb{P}\sqbr{#2}}
    }[\PackageError{Prob}{Undefined option to Prob: #1}{}]
}
\newcommand{\E}[2][br]{
    % Expectation.
    % #1 (optional): bracket type. br for round brackets (default), sqbr for
    % square brackets, and nobr for no brackets.
    % #2: contents.
    \IfEqCase{#1}{
        {br}{\mathbb{E}\br{#2}}
        {sqbr}{\mathbb{E}\sqbr{#2}}
        {nobr}{\mathbb{E}#2}
    }[\PackageError{E}{Undefined option to E: #1}{}]
}
\newcommand{\Var}[2][br]{
    % Variance.
    % #1 (optional): bracket type. br for round brackets (default), sqbr for
    % square brackets.
    % #2: contents.
    \IfEqCase{#1}{
        {br}{\mathbb{V}\text{ar}\br{#2}}
        {sqbr}{\mathbb{V}\text{ar}\sqbr{#2}}
    }[\PackageError{Var}{Undefined option to Var: #1}{}]
}
\newcommand{\Cov}[2][br]{
    % Covariance.
    % #1 (optional): bracket type. br for round brackets (default), sqbr for
    % square brackets.
    % #2: contents.
    \IfEqCase{#1}{
        {br}{\mathbb{C}\text{ov}\br{#2}}
        {sqbr}{\mathbb{C}\text{ov}\sqbr{#2}}
    }[\PackageError{Cov}{Undefined option to Cov: #1}{}]
}

% Symbols
\newcommand{\eps}{\varepsilon}


% ---------- Questions ---------- %
\newcounter{questionCounter}
\newcounter{subquestionCounter}[questionCounter]

\providecommand{\question}{
    \stepcounter{questionCounter}
    \setcounter{subquestionCounter}{0}

    \noindent{\begin{minipage}{\linewidth}
        \vspace{5mm}
        \noindent{\bf Question \thequestionCounter.}
        \vspace{1mm}
        \hrule
        \vspace{3mm}
    \end{minipage}}
}

% Subquestions
\newenvironment{subquestions}{
    \begin{enumerate}
}{\end{enumerate}}

% Subquestion in roman format - (i), (ii), (iii), ...
\newcommand{\subquestionroman}{
    \stepcounter{subquestionCounter}
    \item[(\textbf{\roman{subquestionCounter}})]
}

% Subquestion in alphabetical format - (a), (b), (c), ...
\newcommand{\subquestionalph}{
    \stepcounter{subquestionCounter}
    \item[(\textbf{\alph{subquestionCounter}})]
}

% Subquestion in numerical format - (1), (2), (3), ...
\newcommand{\subquestionnum}{
    \stepcounter{subquestionCounter}
    \item[(\textbf{\arabic{subquestionCounter}})]
}
